<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Briz - Le jeu pour brizer la glace</title>
    <meta name="description" content="Briz - Le jeu pour brizer la glace.">
    <meta name="theme-color" content="#111827" />
    
    <!-- Liens vers le Manifest et le Favicon -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="icon" href="favicon.png" type="image/png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;900&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #111827;
        }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fade-in-fast { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        .animate-fade-in-fast { animation: fade-in-fast 0.2s ease-out forwards; }
        .grid-cols-auto-fit-100 { grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-presets="react">
        const { useState, useEffect, useMemo, useCallback } = React;

        // --- DATA: La banque de questions (Compl√®te - 52 cartes) ---
        const questions = {
            '‚ô•Ô∏è': { // C≈ìur : Sex, fantasme, s√©duction
                '2': ["Quelle est ta plus grande ins√©curit√© physique au lit ?", "As-tu d√©j√† eu un crush sur un personnage de fiction ?", "Quel est le compliment le plus sexy que tu aies re√ßu ?", "D√©cris ton premier baiser avec la langue.", "Quel est le film qui t'excite le plus ?", "As-tu d√©j√† envoy√© un nude par erreur ?", "Quel est ton plus grand 'turn-on' (ce qui t'allume) ?", "Et ton plus grand 'turn-off' (ce qui te refroidit) ?", "As-tu d√©j√† eu un r√™ve √©rotique avec quelqu'un de pr√©sent √† cette table ?", "Quel est le pire conseil en s√©duction que tu aies re√ßu ?"],
                '3': ["Raconte la pire exp√©rience sexuelle de ta vie.", "Quel est l'endroit le plus insolite o√π tu as fait l'amour ?", "As-tu d√©j√† utilis√© une application de rencontre ? Laquelle et pourquoi ?", "D√©cris le baiser le plus m√©morable de ta vie.", "Quelle est la chose la plus audacieuse que tu aies faite pour s√©duire quelqu'un ?", "As-tu d√©j√† eu une relation purement sexuelle (sex-friend) ?", "Quel est le fantasme que tu as honte d'avoir ?", "As-tu d√©j√† simul√© un orgasme ? Dans quel contexte ?", "Quelle est la partie du corps que tu pr√©f√®res chez un partenaire ?", "As-tu d√©j√† eu un rapport sexuel le premier soir ?"],
                '4': ["As-tu un 'body count' (nombre de partenaires) ? Es-tu honn√™te √† ce sujet ?", "Quelle est la pire chose qu'on t'ait dite ou faite pendant l'amour ?", "As-tu d√©j√† eu une relation √† distance ? Comment g√©rais-tu le manque ?", "Quel est ton plus grand regret sexuel ?", "As-tu d√©j√† eu une relation avec quelqu'un de beaucoup plus √¢g√© ou plus jeune ?", "Quelle est ta position sexuelle pr√©f√©r√©e ?", "Raconte une fois o√π tu as √©t√© surpris(e) en plein acte.", "As-tu d√©j√† eu des sentiments pour un(e) escort ?", "Quel est le plus grand tabou sexuel que tu as bris√© ?", "As-tu d√©j√† eu une exp√©rience sexuelle √† plusieurs ?"],
                '5': ["Autour de cette table, avec qui aurais-tu le plus de chances d'avoir une aventure d'un soir ?", "As-tu d√©j√† √©t√© infid√®le ? Raconte sans donner de nom.", "Quel est le fantasme le plus √©trange que tu aies r√©alis√© ?", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un que tu venais de rencontrer dans un bar ?", "Quelle est la chose la plus perverse que tu aimes ?", "As-tu d√©j√† eu une relation sexuelle avec deux personnes diff√©rentes dans la m√™me journ√©e ?", "Raconte une fois o√π un rapport sexuel a √©t√© interrompu de mani√®re embarrassante.", "As-tu d√©j√† eu une relation avec un(e) coll√®gue de travail ?", "Quel est le secret sexuel le plus sombre que tu n'aies jamais avou√© ?", "As-tu d√©j√† pay√© ou √©t√© pay√©(e) pour un acte sexuel ?"],
                '6': ["Quel est le f√©tichisme le plus bizarre que tu aies ?", "As-tu d√©j√† eu une relation sexuelle avec le/la partenaire d'un(e) ami(e) ?", "Raconte une exp√©rience impliquant des sex-toys.", "As-tu d√©j√† particip√© √† une orgie ?", "Quelle est la chose la plus dangereuse ou risqu√©e que tu aies faite sexuellement ?", "As-tu d√©j√† eu une relation avec un membre de la famille de ton/ta partenaire ?", "Quel est l'acte sexuel que tu ne feras jamais, m√™me pour un million d'euros ?", "As-tu d√©j√† eu une exp√©rience BDSM (Bondage, Discipline, Sado-Masochisme) ?", "Raconte une exp√©rience sexuelle sous l'emprise de drogues.", "Quel est ton plus grand secret sexuel inavouable ?"],
                '7': ["Quelle est la chose la plus inattendue qui t'ait excit√©(e) ?", "As-tu d√©j√† menti sur tes performances ou pr√©f√©rences sexuelles ?", "Quel est le lieu public o√π tu r√™ves de faire l'amour ?", "Raconte une fois o√π tu as utilis√© la s√©duction pour obtenir quelque chose.", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un du m√™me sexe ?", "Quel est le message le plus coquin que tu aies envoy√© ?", "Pr√©f√®res-tu dominer ou √™tre domin√©(e) ?", "As-tu d√©j√† eu une relation sexuelle avec plus d'une personne en 24h ?", "Quelle est la chose la plus 'sale' que tu aimes faire au lit ?", "As-tu d√©j√† eu un rapport sexuel au travail ?"],
                '8': ["As-tu d√©j√† tromp√© un partenaire ? Raconte.", "Quel est le fantasme que tu as le plus de chances de r√©aliser un jour ?", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un que tu d√©testais ?", "Quelle est la chose la plus folle que tu aies faite par d√©sir sexuel ?", "As-tu d√©j√† contract√© une IST ?", "Raconte la fois o√π tu as √©t√© le/la plus infid√®le.", "Quel est le mensonge li√© au sexe que tu as racont√© le plus souvent ?", "As-tu d√©j√† eu un rapport non prot√©g√© en connaissance de cause ?", "As-tu d√©j√† film√© tes √©bats ?", "Quelle est la chose la plus embarrassante qui te soit arriv√©e pendant un rapport sexuel ?"],
                '9': ["Quelle est la chose que tu regrettes le plus d'avoir faite (ou pas faite) sexuellement ?", "As-tu d√©j√† eu une relation sexuelle avec un(e) sup√©rieur(e) hi√©rarchique ?", "Quel est le secret sexuel d'un(e) ami(e) que tu connais ?", "As-tu d√©j√† eu une relation sexuelle avec deux personnes en m√™me temps ?", "Quelle est la chose la plus perverse que tu aies √©crite ou lue ?", "As-tu d√©j√† eu une relation sexuelle dans la maison de tes parents pendant qu'ils √©taient l√† ?", "Quel est l'√¢ge de ton/ta plus jeune et plus vieux/vieille partenaire ?", "As-tu d√©j√† eu une relation purement pour l'argent ou le statut ?", "Quelle est la chose la plus taboue que tu aies faite par curiosit√© ?", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un juste pour te venger de ton ex ?"],
                '10': ["As-tu d√©j√† eu une relation incestueuse ou une pens√©e √† ce sujet ?", "Quelle est la chose la plus extr√™me que tu aies faite au lit ?", "As-tu d√©j√† eu une relation sexuelle avec un membre de la famille de ton/ta partenaire ?", "Quel est l'acte sexuel que tu consid√®res comme une 'limite infranchissable' ?", "As-tu d√©j√† eu une relation sexuelle avec une personne inconsciente ou endormie ?", "Quelle est la chose la plus ill√©gale que tu aies faite li√©e au sexe ?", "As-tu d√©j√† forc√© ou manipul√© quelqu'un pour un acte sexuel ?", "Raconte une exp√©rience sexuelle qui a impliqu√© la police.", "As-tu d√©j√† eu une relation avec un animal ?", "Quel est le secret sexuel qui pourrait ruiner ta vie s'il √©tait r√©v√©l√© ?"],
                'J': ["Si tu devais coucher avec une personne dans cette pi√®ce, qui serait-ce et pourquoi ?", "As-tu d√©j√† eu un fantasme impliquant un(e) ami(e) proche ?", "Quelle c√©l√©brit√© choisirais-tu pour un plan √† trois ?", "As-tu d√©j√† eu une relation sexuelle dans un moyen de transport en mouvement ?", "Quelle est la chose la plus √©trange que tu aies utilis√©e comme accessoire sexuel ?", "As-tu d√©j√† eu une relation sexuelle en plein air ?", "Quel est le jeu de r√¥le sexuel de tes r√™ves ?", "As-tu d√©j√† eu une relation avec des jumeaux/jumelles ?", "Quelle est la chose la plus romantique qui ait men√© √† un rapport sexuel ?", "As-tu d√©j√† eu une relation sexuelle qui a dur√© toute une nuit ?"],
                'Q': ["As-tu d√©j√† eu une relation avec ton/ta meilleur(e) ami(e) ?", "Quelle est la chose la plus folle que tu aies apprise sur les pr√©f√©rences sexuelles d'un(e) ami(e) ?", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un qui ne parlait pas ta langue ?", "Quel est le plus grand nombre de personnes avec qui tu as couch√© en une semaine ?", "As-tu d√©j√† eu une relation sexuelle dans un lieu de culte ?", "Quelle est la chose la plus inattendue qui t'ait fait atteindre l'orgasme ?", "As-tu d√©j√† eu une relation avec une personne transgenre ?", "Quelle est la chose la plus audacieuse que tu aies dite √† un partenaire au lit ?", "As-tu d√©j√† eu une relation sexuelle avec quelqu'un que tu as pay√© ?", "Quelle est la chose la plus dr√¥le qui te soit arriv√©e pendant le sexe ?"],
                'K': ["As-tu d√©j√† eu une relation avec un(e) de tes professeur(e)s ?", "Quelle est la chose la plus taboue que tu aies vue dans la pornographie ?", "As-tu d√©j√† eu une relation sexuelle avec un(e) politicien(ne) ou une personne de pouvoir ?", "Quel est le plus grand secret que tu aies cach√© √† un partenaire sexuel ?", "As-tu d√©j√† eu une relation sexuelle avec un(e) membre de ta famille par alliance ?", "Quelle est la chose la plus d√©go√ªtante que tu aies faite ou essay√©e sexuellement ?", "As-tu d√©j√† eu une relation sexuelle avec un(e) athl√®te professionnel(le) ?", "Quel est le plus grand risque que tu aies pris pour le sexe ?", "As-tu d√©j√† eu une relation sexuelle avec un(e) artiste c√©l√®bre ?", "Quelle est la chose la plus pr√©cieuse que tu aies √©chang√©e contre du sexe ?"],
                'A': ["Quelle est la chose la plus importante que tu aies apprise sur toi-m√™me gr√¢ce au sexe ?", "As-tu d√©j√† eu une relation qui a chang√© ta vision de la sexualit√© ?", "Quel est le plus beau souvenir sexuel de ta vie ?", "As-tu d√©j√† eu une relation o√π le sexe √©tait mauvais mais les sentiments forts ?", "Quelle est la chose la plus intime que tu aies partag√©e avec un partenaire ?", "As-tu d√©j√† eu une relation o√π le sexe √©tait incroyable mais sans sentiments ?", "Quel est le plus grand sacrifice que tu aies fait pour ta vie sexuelle ?", "As-tu d√©j√† eu une relation qui a commenc√© par le sexe et s'est transform√©e en amour ?", "Quelle est la chose la plus importante pour toi dans une relation sexuelle ?", "As-tu d√©j√† eu une relation qui t'a aid√© √† surmonter une ins√©curit√© sexuelle ?"]
            },
            '‚ô¶Ô∏è': { // Social : Amour (non sexuel), amis, travail, famille
                '2': ["Quelle est la chose la plus embarrassante que tes parents aient faite devant tes amis ?", "D√©cris ta plus grande dispute avec un fr√®re ou une s≈ìur.", "Quel est le pire cadeau que tu aies re√ßu ?", "Raconte ta pire gaffe lors d'un entretien d'embauche.", "Qui √©tait ton meilleur ami d'enfance et pourquoi ne l'es-tu plus ?", "Quelle est la chose la plus gentille qu'un inconnu ait faite pour toi ?", "As-tu d√©j√† √©t√© vir√©(e) d'un travail ?", "Quel est le meilleur conseil que tes parents t'aient donn√© ?", "Raconte une fois o√π tu as ressenti une jalousie intense envers un(e) ami(e).", "Quel est le plus grand malentendu te concernant ?"],
                '3': ["Quelle est la chose la plus folle que tu aies faite par amiti√© ?", "As-tu d√©j√† eu le c≈ìur bris√© ? Raconte.", "Quel est le plus grand sacrifice que tu aies fait pour ta famille ?", "Raconte une fois o√π tu as d√©√ßu quelqu'un qui comptait sur toi.", "Qui est la personne dans ta vie qui te conna√Æt le mieux ?", "As-tu d√©j√† mis fin √† une amiti√© importante ? Pourquoi ?", "Quelle est la chose que tes coll√®gues ignorent sur toi ?", "As-tu d√©j√† eu un coup de foudre platonique ?", "Quelle est la tradition familiale la plus √©trange que vous ayez ?", "Raconte une fois o√π tu as d√©fendu un(e) ami(e) bec et ongles."],
                '4': ["Quelle est la chose que tu caches √† ta famille ?", "As-tu d√©j√† eu des sentiments amoureux pour un(e) ami(e) proche ?", "Quelle est la plus grande dispute que tu aies eue avec ton/ta meilleur(e) ami(e) ?", "Raconte une fois o√π tu t'es senti(e) trahi(e) par un coll√®gue.", "Quel est le plus grand regret concernant une amiti√© pass√©e ?", "As-tu d√©j√† eu une relation toxique (amicale ou familiale) ?", "Quelle est la chose que tu admires le plus chez tes parents ?", "Raconte une fois o√π tu as pleur√© de joie pour quelqu'un d'autre.", "Quel est le plus grand d√©saccord que tu aies avec tes amis sur un sujet important ?", "As-tu d√©j√† eu √† choisir entre deux amis ?"],
                '5': ["Quelle est la plus grande trahison que tu aies v√©cue de la part d'un proche (ami/famille) ?", "As-tu d√©j√† envisag√© de couper les ponts avec un membre de ta famille ? Pourquoi ?", "Raconte une fois o√π tu as d√ª mentir pour prot√©ger quelqu'un que tu aimes.", "Quelle est la chose que tu ne pardonneras jamais √† un(e) ami(e) ?", "As-tu d√©j√† √©t√© amoureux/se de quelqu'un qui ne t'aimait pas en retour ?", "Quel est le plus grand secret de famille que tu connaisses ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par ton 'h√©ros' ou mod√®le.", "As-tu d√©j√† sabot√© une amiti√© par jalousie ?", "Quelle est la conversation la plus difficile que tu aies eue avec tes parents ?", "Parmi les personnes √† table, qui choisirais-tu pour t'aider √† cacher un corps ?"],
                '6': ["As-tu d√©j√† r√©v√©l√© un secret confi√© par ton/ta meilleur(e) ami(e) ?", "Raconte une fois o√π tu as d√©lib√©r√©ment bless√© quelqu'un que tu aimes.", "Quelle est la relation (amicale ou familiale) la plus compliqu√©e que tu aies ?", "As-tu d√©j√† utilis√© des informations confidentielles du travail √† ton avantage ?", "Quel est le plus grand reproche que tu ferais √† ta famille ?", "As-tu d√©j√† souhait√© secr√®tement l'√©chec d'un(e) ami(e) ?", "Raconte une fois o√π tu as d√ª choisir entre ta carri√®re et une relation.", "Quelle est la chose la plus √©go√Øste que tu aies faite qui a impact√© tes proches ?", "As-tu d√©j√† eu une relation o√π tu savais que tu faisais du mal √† l'autre personne ?", "Quelle est la v√©rit√© la plus dure que tu aies dite √† un(e) ami(e) ?"],
                '7': ["Quelle est la chose que tu regrettes le plus dans tes relations amicales ?", "As-tu d√©j√† eu une amiti√© qui s'est termin√©e sans explication ?", "Quel est le plus grand mensonge que tu aies dit √† tes parents ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un membre de ta famille.", "Quelle est la chose la plus courageuse que tu aies faite pour un(e) ami(e) ?", "As-tu d√©j√† eu une relation professionnelle qui a d√©pass√© les bornes ?", "Quel est le plus grand secret que tu aies gard√© pour un(e) ami(e) ?", "Raconte une fois o√π tu as √©t√© t√©moin d'une trahison entre amis.", "Quelle est la chose la plus importante que tu aies apprise sur l'amiti√© ?", "As-tu d√©j√† eu une relation qui a chang√© ta vie ?"],
                '8': ["Quelle est la chose la plus difficile que tu aies d√ª pardonner √† un(e) ami(e) ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par l'argent ?", "Quel est le plus grand sacrifice que tu aies fait pour ta carri√®re ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un mentor ou un mod√®le.", "Quelle est la chose la plus importante que tu aies apprise sur la famille ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par la jalousie ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation amoureuse ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes h√©ros d'enfance.", "Quelle est la chose la plus importante que tu aies apprise sur l'amour ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par la distance ?"],
                '9': ["Quelle est la chose la plus difficile que tu aies d√ª accepter sur toi-m√™me dans une relation ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par la religion ou la politique ?", "Quel est le plus grand risque que tu aies pris pour une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes professeur(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur le travail d'√©quipe ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par une addiction ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une amiti√© ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes artistes pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la confiance ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par une maladie ?"],
                '10': ["Quelle est la chose la plus difficile que tu aies d√ª surmonter dans une relation familiale ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par une diff√©rence d'√¢ge ?", "Quel est le plus grand compromis que tu aies fait dans une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes politicien(ne)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la communication ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par une diff√©rence de culture ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation professionnelle ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes athl√®tes pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur le respect ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un secret ?"],
                'J': ["Quelle est la chose la plus difficile que tu aies d√ª apprendre sur toi-m√™me gr√¢ce √† une relation ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de soutien ?", "Quel est le plus grand cadeau que tu aies re√ßu d'une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes auteur(e)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la loyaut√© ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de passion ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation avec toi-m√™me ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes musicien(ne)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur le pardon ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de vision commune ?"],
                'Q': ["Quelle est la chose la plus difficile que tu aies d√ª enseigner √† quelqu'un dans une relation ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque d'intimit√© (non sexuelle) ?", "Quel est le plus grand obstacle que tu aies surmont√© dans une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes acteur(rice)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la vuln√©rabilit√© ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque d'humour ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation avec la soci√©t√© ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes r√©alisateur(rice)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur l'ind√©pendance ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de curiosit√© ?"],
                'K': ["Quelle est la chose la plus difficile que tu aies d√ª accepter d'une autre personne dans une relation ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de spontan√©it√© ?", "Quel est le plus grand tr√©sor que tu aies trouv√© dans une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes peintre(sse)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la g√©n√©rosit√© ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque d'ambition ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation avec la nature ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes sculpteur(rice)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la patience ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de discipline ?"],
                'A': ["Quelle est la chose la plus difficile que tu aies d√ª laisser partir dans une relation ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de cr√©ativit√© ?", "Quel est le plus grand miracle que tu aies v√©cu dans une relation ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes architectes pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la gratitude ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de spiritualit√© ?", "Quel est le plus grand d√©fi que tu aies rencontr√© dans une relation avec l'univers ?", "Raconte une fois o√π tu as √©t√© d√©√ßu(e) par un(e) de tes designer(euse)s pr√©f√©r√©(e)s.", "Quelle est la chose la plus importante que tu aies apprise sur la vie ?", "As-tu d√©j√† eu une relation qui a √©t√© ruin√©e par un manque de sens ?"]
            },
            '‚ô†Ô∏è': { // Karma : Actions immorales, coups de pute, pens√©es r√©prouv√©es
                '2': ["As-tu d√©j√† lu le journal intime ou les messages de quelqu'un ?", "Raconte un mensonge que tu as dit r√©cemment.", "As-tu d√©j√† fait semblant d'aimer un cadeau pour ne pas vexer ?", "As-tu d√©j√† gard√© la monnaie rendue en trop ?", "Quelle est la pire rumeur que tu aies propag√©e ?", "As-tu d√©j√† bl√¢m√© quelqu'un d'autre pour une de tes erreurs ?", "As-tu d√©j√† trich√© √† un jeu ?", "Raconte une fois o√π tu as √©t√© incroyablement hypocrite.", "As-tu d√©j√† fait un faux compliment ?", "As-tu d√©j√† profit√© de la gentillesse de quelqu'un ?"],
                '3': ["Raconte une fois o√π tu as manipul√© quelqu'un pour obtenir ce que tu voulais.", "T'es-tu d√©j√† attribu√© le m√©rite du travail d'un autre ?", "As-tu d√©j√† d√©lib√©r√©ment rendu quelqu'un jaloux ?", "Quelle est la chose la plus m√©chante que tu aies faite par jalousie ?", "As-tu d√©j√† utilis√© un secret contre quelqu'un ?", "Raconte une fois o√π tu as agi contre tes propres principes par int√©r√™t.", "As-tu d√©j√† fait une promesse en sachant que tu ne la tiendrais pas ?", "As-tu d√©j√† 'oubli√©' de rendre quelque chose d'important ?", "Quelle est la pens√©e la plus politiquement incorrecte que tu aies r√©guli√®rement ?", "As-tu d√©j√† espionn√© tes voisins ?"],
                '4': ["Quelle est la chose la plus immorale que tu aies faite pour de l'argent ?", "As-tu d√©j√† d√©lib√©r√©ment sabot√© la relation (amicale/amoureuse) de quelqu'un ?", "Raconte une fois o√π ta l√¢chet√© a eu de graves cons√©quences pour une autre personne.", "As-tu d√©j√† profit√© de quelqu'un en √©tat de faiblesse (tristesse, ivresse...) ?", "Quelle est la critique la plus cruelle que tu aies faite sur quelqu'un dans son dos ?", "As-tu d√©j√† abandonn√© un ami dans le besoin ?", "Quel est le pire conseil que tu aies d√©lib√©r√©ment donn√© ?", "As-tu d√©j√† souhait√© la mort de quelqu'un ?", "Raconte une fois o√π tu as √©t√© t√©moin d'une injustice et que tu n'as rien fait.", "Quelle est la chose la plus sournoise que tu aies faite pour obtenir une promotion ou un avantage ?"],
                '5': ["Quelle est la pire chose que tu aies faite et que personne ne saura jamais ?", "Si tu pouvais ruiner la vie d'une personne sans cons√©quence, le ferais-tu ? Qui ?", "As-tu d√©j√† trahi la confiance de la personne qui t'en accordait le plus ?", "Raconte une fois o√π tu as fait du mal √† quelqu'un juste pour le plaisir de le faire.", "Quelle est la pens√©e la plus sombre et inavouable que tu aies eue ?", "As-tu d√©j√† fait chanter quelqu'un, m√™me de mani√®re subtile ?", "Quelle est la chose que tu as faite qui te fait le plus honte moralement ?", "As-tu d√©j√† √©t√© violent(e) psychologiquement avec un partenaire ?", "Si tu pouvais revenir en arri√®re, quelle est la seule mauvaise action que tu effacerais ?", "Quelle est la chose la plus cruelle que tu aies faite par vengeance ?"],
                '6': ["Quelle est la chose la plus √©go√Øste que tu aies faite sans regret ?", "As-tu d√©j√† menti √† un sondage ou une √©tude ?", "Raconte une fois o√π tu as jug√© quelqu'un sur son apparence et tu avais tort.", "Quelle est la chose la plus passive-agressive que tu aies faite cette semaine ?", "As-tu d√©j√† ignor√© quelqu'un qui te demandait de l'aide dans la rue ?", "Quelle est la chose la plus snob que tu penses secr√®tement ?", "As-tu d√©j√† fait semblant de ne pas conna√Ætre quelqu'un pour √©viter une conversation ?", "Raconte une fois o√π tu as ri d'une blague que tu trouvais blessante.", "Quelle est la chose la plus m√©disante que tu aies dite sur un membre de ta famille ?", "As-tu d√©j√† profit√© d'une erreur en ta faveur sans le signaler ?"],
                '7': ["Quelle est la chose la plus manipulatrice que tu aies dite √† un partenaire ?", "As-tu d√©j√† utilis√© la piti√© pour obtenir ce que tu voulais ?", "Raconte une fois o√π tu as d√©lib√©r√©ment sem√© la zizanie entre deux personnes.", "Quelle est la chose la plus hypocrite que tu reproches aux autres mais que tu fais toi-m√™me ?", "As-tu d√©j√† utilis√© une information personnelle sur quelqu'un pour le discr√©diter ?", "Quelle est la chose la plus malhonn√™te que tu aies faite pour √©viter une punition ?", "As-tu d√©j√† pr√©tendu √™tre plus pauvre ou plus riche que tu ne l'es pour en tirer un avantage ?", "Raconte une fois o√π tu as d√©lib√©r√©ment exploit√© la gentillesse de tes parents.", "Quelle est la chose la plus sournoise que tu aies faite √† un coll√®gue ?", "As-tu d√©j√† fait semblant d'√™tre malade pour ne pas aller √† un √©v√©nement important pour un ami ?"],
                '8': ["Quelle est la chose la plus cruelle que tu aies dite √† quelqu'un en face ?", "As-tu d√©j√† souhait√© un malheur √† quelqu'un et cela s'est produit ?", "Raconte une fois o√π tu as ressenti de la joie face √† l'√©chec de quelqu'un (Schadenfreude).", "Quelle est la chose la plus immorale que tu aies apprise √† un enfant ?", "As-tu d√©j√† trahi un secret professionnel pour ton gain personnel ?", "Quelle est la chose la plus m√©prisable que tu aies faite par peur ?", "As-tu d√©j√† encourag√© quelqu'un √† faire quelque chose de mal ?", "Raconte une fois o√π tu as d√©lib√©r√©ment ignor√© un appel √† l'aide.", "Quelle est la chose la plus irrespectueuse que tu aies faite envers une personne √¢g√©e ?", "As-tu d√©j√† profit√© de l'ignorance de quelqu'un pour l'arnaquer, m√™me l√©g√®rement ?"],
                '9': ["Quelle est la pire chose que tu penses de la personne √† ta gauche ?", "As-tu d√©j√† eu une pens√©e violente envers quelqu'un que tu aimes ?", "Raconte une fois o√π tu as √©t√© raciste, sexiste ou homophobe, m√™me en pens√©e.", "Quelle est la chose la plus sombre que tu aies fantasm√©e ?", "As-tu d√©j√† esp√©r√© qu'un de tes proches √©choue pour te sentir mieux ?", "Quelle est la chose la plus √©go√Øste que tu ferais si tu √©tais invisible ?", "As-tu d√©j√† pens√© √† abandonner un animal de compagnie ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de faire quelque chose de vraiment mal.", "Quelle est la chose la plus m√©chante que tu aies √©crite sur internet sous couvert d'anonymat ?", "As-tu d√©j√† pens√© √† te venger de mani√®re disproportionn√©e ?"],
                '10': ["Quelle est la chose que tu as faite qui te hantera toujours ?", "As-tu d√©j√† √©t√© la cause directe de la rupture d'un couple ?", "Raconte une fois o√π tu as menti √† la police de mani√®re s√©rieuse.", "Quelle est la chose la plus destructrice que tu aies faite √† toi-m√™me ?", "As-tu d√©j√† vol√© une id√©e √† quelqu'un et l'as pr√©sent√©e comme la tienne ?", "Quelle est la chose la plus grave que tu aies cach√©e √† ton/ta partenaire actuel(le) ?", "As-tu d√©j√† √©t√© infid√®le √©motionnellement au point de blesser profond√©ment quelqu'un ?", "Raconte une fois o√π tu as d√©lib√©r√©ment ruin√© la r√©putation de quelqu'un.", "Quelle est la chose la plus proche d'un crime que tu aies commise sans √™tre hors-la-loi ?", "As-tu d√©j√† pens√© √† te suicider ?"],
                'J': ["Si tu pouvais √©changer la vie de deux personnes dans cette pi√®ce, qui choisirais-tu ?", "Quelle est la chose la plus immorale que tu ferais pour un million d'euros ?", "As-tu d√©j√† √©t√© attir√©(e) par un criminel c√©l√®bre ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de tricher √† un examen final.", "Quelle est la chose la plus m√©chante que tu aies faite √† un animal ?", "As-tu d√©j√† souhait√© avoir un pouvoir pour faire du mal aux autres ?", "Quelle est la chose la plus √©go√Øste que tu ferais si tu gagnais au loto ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de voler un ami.", "Quelle est la chose la plus sombre que tu aies lue ou regard√©e ?", "As-tu d√©j√† pens√© √† rejoindre une secte ?"],
                'Q': ["Si tu devais sacrifier une personne que tu connais pour sauver cinq inconnus, le ferais-tu ?", "Quelle est la chose la plus immorale que tu aies apprise de tes parents ?", "As-tu d√©j√† eu une pens√©e intrusive que tu n'as jamais os√© partager ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de saboter le travail d'un coll√®gue.", "Quelle est la chose la plus m√©chante que tu aies faite √† un √©tranger ?", "As-tu d√©j√† souhait√© une catastrophe naturelle pour √©viter un √©v√©nement ?", "Quelle est la chose la plus √©go√Øste que tu ferais pour sauver ta propre vie ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de mentir sous serment.", "Quelle est la chose la plus sombre que tu aies √©crite dans un journal intime ?", "As-tu d√©j√† pens√© √† trahir ton pays ?"],
                'K': ["Si tu pouvais commettre un meurtre sans √™tre pris(e), le ferais-tu ?", "Quelle est la chose la plus immorale que tu aies faite par amour ?", "As-tu d√©j√† eu une pens√©e que tu consid√®res comme purement diabolique ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de ruiner la vie de quelqu'un.", "Quelle est la chose la plus m√©chante que tu aies faite √† un membre de ta famille ?", "As-tu d√©j√† souhait√© une maladie grave √† quelqu'un ?", "Quelle est la chose la plus √©go√Øste que tu ferais pour prot√©ger un secret ?", "Raconte une fois o√π tu as √©t√© tent√©(e) de faire un faux t√©moignage.", "Quelle est la chose la plus sombre que tu aies jamais dite √† voix haute ?", "As-tu d√©j√† pens√© √† devenir un criminel ?"],
                'A': ["Quelle est la ligne morale que tu ne franchiras jamais ?", "As-tu d√©j√† fait quelque chose que tu consid√®res comme impardonnable ?", "Raconte une fois o√π tu as √©t√© confront√©(e) √† un vrai dilemme moral.", "Quelle est la chose la plus m√©chante que tu aies faite et que tu referais ?", "As-tu d√©j√† souhait√© ne jamais √™tre n√©(e) ?", "Quelle est la chose la plus √©go√Øste que tu aies faite et dont tu es fier(e) ?", "Raconte une fois o√π tu as choisi le mal en toute connaissance de cause.", "Quelle est la chose la plus sombre que tu aies apprise sur la nature humaine ?", "As-tu d√©j√† pens√© √† ce que tu ferais si tu n'avais plus de morale ?", "Quelle est la chose la plus importante que tu aies apprise sur le bien et le mal ?"]
            },
            '‚ô£Ô∏è': { // Punk : Actes ill√©gaux ou de r√©bellion
                '2': ["As-tu d√©j√† fraud√© dans les transports en commun ?", "Quelle est la chose la plus stupide que tu aies faite en √©tant ivre ?", "As-tu d√©j√† trich√© √† un examen important ?", "Raconte une fois o√π tu as insult√© un professeur ou un sup√©rieur hi√©rarchique.", "As-tu d√©j√† t√©l√©charg√© ill√©galement des films ou de la musique ?", "Quelle est la r√®gle sociale que tu adores transgresser ?", "As-tu d√©j√† particip√© √† une manifestation ?", "As-tu d√©j√† menti √† un policier pour une petite infraction ?", "Quel est le plus petit objet que tu aies vol√© ?", "As-tu d√©j√† fait un doigt d'honneur √† une cam√©ra de surveillance ?"],
                '3': ["As-tu d√©j√† vol√© dans un magasin ? Raconte.", "Quelle est la drogue la plus 'douce' que tu aies test√©e ?", "As-tu d√©j√† eu une altercation physique (bagarre) ?", "Quel est l'acte de vandalisme le plus simple que tu aies commis (tag, etc.) ?", "As-tu d√©j√† conduit sans permis ou sans assurance ?", "Raconte une fois o√π tu as fui une situation pour ne pas en assumer les cons√©quences.", "As-tu d√©j√† menti sur un document officiel (CV, etc.) ?", "Quelle est la chose la plus rebelle que tu aies faite √† l'adolescence ?", "As-tu d√©j√† eu des ennuis avec la police ?", "As-tu d√©j√† pass√© une nuit en cellule de d√©grisement ?"],
                '4': ["As-tu d√©j√† pris le volant en √©tat d'ivresse ou sous stup√©fiants ?", "Quelle est la drogue la plus 'dure' que tu aies consomm√©e ?", "Quel est l'objet le plus cher que tu aies vol√© ?", "Raconte une fois o√π tu as failli te faire arr√™ter.", "As-tu d√©j√† commis une fraude (assurance, aides sociales...) ?", "Quel est l'acte de r√©bellion contre l'autorit√© (police, gouvernement) dont tu es le/la plus fier(e) ?", "As-tu d√©j√† particip√© √† une activit√© ill√©gale en groupe ?", "As-tu d√©j√† poss√©d√© une arme ill√©galement ?", "Raconte une fois o√π tu as d√©sob√©i √† un ordre direct qui a eu de grosses cons√©quences.", "As-tu d√©j√† aid√© quelqu'un √† commettre un d√©lit ?"],
                '5': ["Quel est l'acte ill√©gal le plus grave que tu aies commis sans jamais te faire prendre ?", "As-tu d√©j√† fait quelque chose qui aurait pu t'envoyer en prison pour de bon ?", "As-tu d√©j√† √©t√© impliqu√©(e) dans une bagarre qui a tr√®s mal tourn√© ?", "As-tu d√©j√† vol√© une somme d'argent importante ?", "Raconte une exp√©rience avec le crime organis√©, m√™me de loin.", "As-tu d√©j√† commis un d√©lit de fuite apr√®s un accident ?", "Quelle est la chose la plus dangereuse que tu aies transport√©e pour quelqu'un ?", "As-tu d√©j√† pens√© √† un crime parfait ? Lequel ?", "As-tu d√©j√† √©t√© complice d'un crime grave ?", "Si tu devais enfreindre une loi maintenant, sans te faire prendre, laquelle choisirais-tu et pourquoi ?"],
                '6': ["As-tu d√©j√† particip√© √† un cambriolage ?", "Quelle est la chose la plus ill√©gale que tu aies achet√©e sur internet ?", "Raconte une fois o√π tu as √©t√© interrog√©(e) par la police.", "As-tu d√©j√† vendu de la drogue, m√™me en petite quantit√© ?", "Quel est le mensonge le plus grave que tu aies dit √† un juge ou un avocat ?", "As-tu d√©j√† d√©truit des preuves d'un d√©lit ?", "Raconte une fois o√π tu as √©t√© t√©moin d'un crime et que tu n'as rien dit.", "As-tu d√©j√† utilis√© une fausse identit√© ?", "Quelle est la chose la plus ill√©gale que tu aies faite dans un autre pays ?", "As-tu d√©j√† pirat√© un compte ou un syst√®me informatique ?"],
                '7': ["As-tu d√©j√† √©t√© arr√™t√©(e) pour un crime que tu n'as pas commis ?", "Quelle est la chose la plus ill√©gale que tu aies faite pour de l'argent ?", "Raconte une fois o√π tu as √©t√© menac√©(e) par un criminel.", "As-tu d√©j√† √©t√© impliqu√©(e) dans un accident de la route avec d√©lit de fuite ?", "Quel est le secret le plus sombre que tu partages avec un complice ?", "As-tu d√©j√† √©t√© t√©moin d'un meurtre ou d'une tentative de meurtre ?", "Raconte une fois o√π tu as √©chapp√© de justesse √† la prison.", "As-tu d√©j√† √©t√© membre d'un gang ou d'une organisation criminelle ?", "Quelle est la chose la plus ill√©gale que tu aies faite par amour ?", "As-tu d√©j√† √©t√© victime d'un chantage ?"],
                '8': ["As-tu d√©j√† commis un crime avec une arme ?", "Quelle est la chose la plus ill√©gale que tu aies faite qui a bless√© quelqu'un ?", "Raconte une fois o√π tu as √©t√© en garde √† vue.", "As-tu d√©j√† √©t√© condamn√©(e) par la justice ?", "Quel est le plus grand secret que tu caches √† la police ?", "As-tu d√©j√† √©t√© impliqu√©(e) dans un trafic (drogue, armes, etc.) ?", "Raconte une fois o√π tu as d√ª choisir entre la prison et la trahison.", "As-tu d√©j√† √©t√© en cavale ?", "Quelle est la chose la plus ill√©gale que tu aies faite pour prot√©ger ta famille ?", "As-tu d√©j√† √©t√© pay√©(e) pour commettre un crime ?"],
                '9': ["As-tu d√©j√† pens√© √† tuer quelqu'un ?", "Quelle est la chose la plus ill√©gale que tu aies faite et que tu regrettes le plus ?", "Raconte une fois o√π tu as √©t√© complice d'un crime grave.", "As-tu d√©j√† √©t√© en prison ?", "Quel est le plus grand secret que tu emporteras dans ta tombe ?", "As-tu d√©j√† √©t√© impliqu√©(e) dans un crime qui a fait la une des journaux ?", "Raconte une fois o√π tu as d√ª faire face √† la mafia ou √† un gang.", "As-tu d√©j√† √©t√© t√©moin d'un crime et tu as menti √† la police ?", "Quelle est la chose la plus ill√©gale que tu aies faite et dont tu es fier(e) ?", "As-tu d√©j√† √©t√© pardonn√©(e) pour un crime que tu as commis ?"],
                '10': ["Si tu pouvais commettre un crime sans √™tre puni(e), lequel serait-ce ?", "Quelle est la chose la plus ill√©gale que tu ferais pour sauver un √™tre cher ?", "Raconte une fois o√π tu as enfreint la loi et o√π tu t'es senti(e) vivant(e).", "As-tu d√©j√† r√™v√© de devenir un criminel c√©l√®bre ?", "Quel est le plus grand secret que tu partages avec un criminel ?", "As-tu d√©j√† √©t√© inspir√©(e) par un criminel de fiction ?", "Raconte une fois o√π tu as d√ª choisir entre la loi et la morale.", "As-tu d√©j√† √©t√© tent√©(e) de rejoindre une organisation terroriste ?", "Quelle est la chose la plus ill√©gale que tu aies apprise √† faire ?", "As-tu d√©j√† √©t√© fier(e) d'avoir enfreint la loi ?"],
                'J': ["Si tu devais commettre un crime avec une personne dans cette pi√®ce, qui serait ton/ta complice ?", "Quelle est la chose la plus ill√©gale que tu aies faite en vacances ?", "Raconte une fois o√π tu as √©t√© pris(e) en flagrant d√©lit.", "As-tu d√©j√† vol√© quelque chose dans un h√¥tel ?", "Quel est le plus grand secret que tu caches √† ton/ta meilleur(e) ami(e) concernant la loi ?", "As-tu d√©j√† conduit une voiture vol√©e ?", "Raconte une fois o√π tu as d√ª mentir √† tes parents sur une activit√© ill√©gale.", "As-tu d√©j√† trich√© aux imp√¥ts ?", "Quelle est la chose la plus ill√©gale que tu aies faite pour un pari ?", "As-tu d√©j√† √©t√© banni(e) d'un lieu public ?"],
                'Q': ["Si tu pouvais l√©galiser une drogue, laquelle serait-ce ?", "Quelle est la chose la plus ill√©gale que tu aies faite √† l'√©cole ?", "Raconte une fois o√π tu as √©t√© impliqu√©(e) dans une √©meute ou une manifestation violente.", "As-tu d√©j√† vol√© de l'argent √† tes parents ?", "Quel est le plus grand secret que tu caches √† ton/ta patron(ne) concernant la loi ?", "As-tu d√©j√† utilis√© une fausse carte d'identit√© ?", "Raconte une fois o√π tu as d√ª cacher quelque chose d'ill√©gal chez toi.", "As-tu d√©j√† fait un faux t√©moignage pour aider un ami ?", "Quelle est la chose la plus ill√©gale que tu aies faite par amour ?", "As-tu d√©j√† √©t√© arr√™t√©(e) √† l'√©tranger ?"],
                'K': ["Si tu pouvais gracier un criminel c√©l√®bre, qui serait-ce ?", "Quelle est la chose la plus ill√©gale que tu aies faite pour ta carri√®re ?", "Raconte une fois o√π tu as √©t√© menac√©(e) par la police.", "As-tu d√©j√† vol√© un objet de grande valeur sentimentale ?", "Quel est le plus grand secret que tu caches √† tes enfants concernant la loi ?", "As-tu d√©j√† √©t√© impliqu√©(e) dans un accident et tu as menti sur les circonstances ?", "Raconte une fois o√π tu as d√ª transporter quelque chose d'ill√©gal pour quelqu'un.", "As-tu d√©j√† fait chanter quelqu'un avec une information ill√©gale ?", "Quelle est la chose la plus ill√©gale que tu aies faite par vengeance ?", "As-tu d√©j√† √©t√© condamn√©(e) √† une peine de prison avec sursis ?"],
                'A': ["Si tu pouvais changer une loi, laquelle serait-ce ?", "Quelle est la chose la plus ill√©gale que tu aies faite et que tu ne regretteras jamais ?", "Raconte une fois o√π tu as choisi la justice plut√¥t que la loi.", "As-tu d√©j√† r√™v√© de devenir un justicier masqu√© ?", "Quel est le plus grand secret que tu partages avec un avocat ?", "As-tu d√©j√† √©t√© impliqu√©(e) dans une affaire judiciaire qui a dur√© des ann√©es ?", "Raconte une fois o√π tu as d√ª faire face √† un juge.", "As-tu d√©j√† √©t√© pardonn√©(e) par une victime ?", "Quelle est la chose la plus ill√©gale que tu aies apprise de tes erreurs ?", "As-tu d√©j√† √©t√© fier(e) d'avoir √©t√© un hors-la-loi ?"]
            }
        };

        const THEME_DETAILS = {
            '‚ô•Ô∏è': { name: 'C≈ìur', color: 'text-red-500', description: 'Sex, fantasmes, s√©duction. Tout ce qui touche √† l\'intimit√© charnelle et au d√©sir.' },
            '‚ô¶Ô∏è': { name: 'Social', color: 'text-red-500', description: 'Liens non-sexuels. Amour, amiti√©, famille, travail. Les dynamiques qui nous lient aux autres.' },
            '‚ô†Ô∏è': { name: 'Karma', color: 'text-gray-800', description: 'Actions immorales. Coups bas, pens√©es inavouables, dilemmes moraux. Ce qui n\'est pas ill√©gal, mais discutable.' },
            '‚ô£Ô∏è': { name: 'Punk', color: 'text-gray-800', description: 'Actes ill√©gaux ou de r√©bellion. Tout ce qui enfreint la loi ou d√©fie ouvertement l\'autorit√©.' }
        };

        const generateDeck = () => {
            const deck = [];
            for (const suit in questions) {
                for (const value in questions[suit]) {
                    deck.push({ suit, value });
                }
            }
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            return deck;
        };

        const Card = ({ suit, value, small = false }) => {
            const color = THEME_DETAILS[suit].color;
            const sizeClasses = small ? 'w-20 h-28 sm:w-24 sm:h-36' : 'w-40 h-60 sm:w-48 sm:h-72';
            const valueSize = small ? 'text-xl' : 'text-3xl';
            const suitCenterSize = small ? 'text-4xl' : 'text-6xl';
            return (
                <div className={`${sizeClasses} bg-white rounded-xl shadow-2xl flex flex-col justify-between p-2 sm:p-3 transform transition-transform duration-500 hover:scale-105 relative flex-shrink-0`}>
                    <div className={`${valueSize} font-bold ${color}`}>{value} {suit}</div>
                    <div className={`${suitCenterSize} text-center font-bold ${color} absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`}>{suit}</div>
                    <div className={`${valueSize} font-bold ${color} self-end transform rotate-180`}>{value} {suit}</div>
                </div>
            );
        };

        const ThemeDisplay = ({ suit, onClick }) => {
            const theme = THEME_DETAILS[suit];
            return (
                <button onClick={onClick} className="flex items-center gap-2 bg-gray-700 px-4 py-2 rounded-full hover:bg-gray-600 transition-colors">
                    <span className={`text-2xl ${theme.color}`}>{suit}</span>
                    <span className="text-white font-bold text-lg">{theme.name}</span>
                </button>
            );
        };

        const QuestionDisplay = ({ historyItem, onNext, onCycleQuestion, isLastCard, onThemeClick }) => {
            if (!historyItem) return null;
            const { card, question } = historyItem;
            return (
                <div className="w-full max-w-lg mx-auto p-6 bg-gray-800 rounded-2xl shadow-2xl flex flex-col items-center gap-4 animate-fade-in">
                    <ThemeDisplay suit={card.suit} onClick={onThemeClick} />
                    <Card suit={card.suit} value={card.value} />
                    <p className="text-white text-xl sm:text-2xl text-center font-light leading-relaxed min-h-[6rem] flex items-center">{question}</p>
                    <div className="w-full flex flex-col gap-3 mt-2">
                        <button onClick={onCycleQuestion} className="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-xl">Changer de question</button>
                        <button onClick={onNext} className="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-4 rounded-xl">{isLastCard ? "Terminer la partie" : "Piocher la carte suivante"}</button>
                    </div>
                </div>
            );
        };

        const PhysicalMode = ({ onCardSelect }) => {
            const [suit, setSuit] = useState(null);
            const [value, setValue] = useState(null);
            const handleSelect = () => { if (suit && value) { onCardSelect({ suit, value }); setSuit(null); setValue(null); } };
            return (
                <div className="w-full max-w-lg mx-auto p-6 bg-gray-800 rounded-2xl shadow-2xl flex flex-col items-center gap-6 animate-fade-in">
                    <h2 className="text-2xl font-bold text-white text-center">S√©lectionnez la carte pioch√©e</h2>
                    <div className="w-full"><p className="text-lg font-semibold text-gray-300 mb-2">Couleur :</p><div className="grid grid-cols-4 gap-3">{Object.keys(THEME_DETAILS).map(s => (<button key={s} onClick={() => setSuit(s)} className={`py-4 text-3xl rounded-lg transition-all duration-200 ${suit === s ? 'bg-indigo-600 text-white scale-110 shadow-lg' : 'bg-gray-700 text-white hover:bg-gray-600'}`}>{s}</button>))}</div></div>
                    <div className="w-full"><p className="text-lg font-semibold text-gray-300 mb-2">Valeur :</p><div className="grid grid-cols-auto-fit-100 gap-3">{Object.keys(questions[suit] || {}).map(v => (<button key={v} onClick={() => setValue(v)} className={`py-3 text-xl rounded-lg transition-all duration-200 ${value === v ? 'bg-indigo-600 text-white scale-110 shadow-lg' : 'bg-gray-700 text-white hover:bg-gray-600'}`}>{v}</button>))}</div></div>
                    <button onClick={handleSelect} disabled={!suit || !value} className="w-full mt-4 bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-xl disabled:bg-gray-500 disabled:cursor-not-allowed">Voir la question</button>
                </div>
            );
        };

        const QuickPlayMode = ({ onThemeClick, onNewQuestion }) => {
            const [currentQuestion, setCurrentQuestion] = useState({ question: '', suit: null });

            const getNewQuestion = useCallback((suit) => {
                let selectedSuit = suit;
                if (suit === 'random') {
                    const suits = Object.keys(THEME_DETAILS);
                    selectedSuit = suits[Math.floor(Math.random() * suits.length)];
                }
                
                const themeValues = Object.keys(questions[selectedSuit]);
                const randomValue = themeValues[Math.floor(Math.random() * themeValues.length)];
                const questionPool = questions[selectedSuit][randomValue];
                const randomQuestion = questionPool[Math.floor(Math.random() * questionPool.length)];
                
                setCurrentQuestion({ question: randomQuestion, suit: selectedSuit });
                onNewQuestion(randomQuestion, selectedSuit);
            }, [onNewQuestion]);

            useEffect(() => {
                getNewQuestion('random');
            }, []); // Correctif: tableau de d√©pendances vide pour n'ex√©cuter qu'une fois au montage.

            return (
                <div className="w-full max-w-2xl mx-auto p-4 flex flex-col items-center gap-4 animate-fade-in">
                    <h2 className="text-2xl font-bold text-white text-center">Partie Rapide</h2>
                    <div className="w-full grid grid-cols-2 sm:grid-cols-4 gap-4">
                        {Object.entries(THEME_DETAILS).map(([suit, details]) => (
                            <button key={suit} onClick={() => getNewQuestion(suit)} className="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-2 rounded-xl flex flex-col items-center justify-center gap-1">
                                <span className={`text-4xl ${details.color}`}>{suit}</span>
                                <span className="text-base">{details.name}</span>
                            </button>
                        ))}
                    </div>
                    <div className="w-full mt-2 flex justify-center">
                         <button onClick={() => getNewQuestion('random')} className="bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-2 rounded-xl flex flex-col items-center justify-center gap-1 w-full sm:w-1/2">
                            <span className="text-4xl">üé≤</span>
                            <span className="text-base">Al√©atoire</span>
                        </button>
                    </div>
                    {currentQuestion.suit && (
                        <div className="w-full mt-6 flex flex-col items-center gap-4">
                            <ThemeDisplay suit={currentQuestion.suit} onClick={onThemeClick} />
                            <div className="w-full bg-gray-800 rounded-lg p-8 flex justify-center items-center min-h-[12rem] shadow-2xl">
                                <p className="text-white text-2xl text-center font-light leading-relaxed">{currentQuestion.question}</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        };


        const Menu = ({ onSelectMode, onShowRules }) => (
            <div className="w-full max-w-sm mx-auto p-6 flex flex-col items-center gap-6 animate-fade-in">
                <header className="text-center"><h1 className="text-6xl font-black text-white tracking-tighter">Briz</h1><p className="text-indigo-300 mt-2 text-lg">Le jeu pour brizer la glace.</p></header>
                <div className="w-full flex flex-col gap-4 mt-8">
                    <button onClick={() => onSelectMode('physical')} className="w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-4 rounded-xl text-left flex items-center gap-4"><span className="text-4xl">üÉè</span><div><p className="text-lg">J'ai un jeu de cartes</p><p className="text-sm font-light text-gray-300">Utilisez vos propres cartes.</p></div></button>
                    <button onClick={() => onSelectMode('virtual')} className="w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-4 rounded-xl text-left flex items-center gap-4"><span className="text-4xl">üì±</span><div><p className="text-lg">Tirage de cartes</p><p className="text-sm font-light text-gray-300">Laissez l'app g√©rer le tirage.</p></div></button>
                    <button onClick={() => onSelectMode('quickplay')} className="w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-4 rounded-xl text-left flex items-center gap-4"><span className="text-4xl">‚ö°Ô∏è</span><div><p className="text-lg">Partie Rapide</p><p className="text-sm font-light text-gray-300">Une question, sans attendre.</p></div></button>
                </div>
                <button onClick={onShowRules} className="text-indigo-300 hover:text-indigo-200 mt-8">R√®gles du jeu</button>
            </div>
        );

        const History = ({ history, onClose }) => (
            <div className="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 animate-fade-in-fast" onClick={onClose}>
                <div className="bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl h-[80vh] flex flex-col p-6" onClick={e => e.stopPropagation()}>
                    <div className="flex justify-between items-center mb-4"><h2 className="text-2xl font-bold text-white">Historique des questions</h2><button onClick={onClose} className="text-gray-400 hover:text-white text-2xl">&times;</button></div>
                    <div className="overflow-y-auto pr-2">{history.length === 0 ? (<p className="text-gray-400 text-center mt-8">Aucune question pour le moment.</p>) : (<ul className="space-y-4">{history.map((item, index) => (<li key={index} className="bg-gray-700 p-4 rounded-lg flex items-start gap-4"><Card suit={item.card.suit} value={item.card.value} small={true} /><p className="text-white text-lg flex-1">{item.question}</p></li>))}</ul>)}</div>
                </div>
            </div>
        );

        const ConfirmationModal = ({ onConfirm, onCancel }) => (
            <div className="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 animate-fade-in-fast">
                <div className="bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm p-8 text-center" onClick={e => e.stopPropagation()}>
                    <h2 className="text-2xl font-bold text-white mb-4">Quitter la partie ?</h2>
                    <p className="text-gray-300 mb-8">Votre progression sera effac√©e. √ätes-vous s√ªr ?</p>
                    <div className="flex justify-center gap-4"><button onClick={onCancel} className="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg">Annuler</button><button onClick={onConfirm} className="bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-6 rounded-lg">Confirmer</button></div>
                </div>
            </div>
        );

        const EndGameScreen = ({ onRestart }) => (
            <div className="w-full max-w-lg mx-auto p-8 bg-gray-800 rounded-2xl shadow-2xl flex flex-col items-center gap-6 animate-fade-in text-center">
                <h2 className="text-4xl font-bold text-white">Partie termin√©e !</h2>
                <p className="text-gray-300 text-lg">Vous avez r√©pondu √† toutes les questions. J'esp√®re que vous en avez appris plus les uns sur les autres !</p>
                <button onClick={onRestart} className="w-full mt-4 bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-xl">Faire une nouvelle partie</button>
            </div>
        );

        const ThemeModal = ({ onClose }) => (
            <div className="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 animate-fade-in-fast" onClick={onClose}>
                <div className="bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl p-6 m-4" onClick={e => e.stopPropagation()}>
                    <div className="flex justify-between items-center mb-6"><h2 className="text-3xl font-bold text-white">Les Th√®mes de Briz</h2><button onClick={onClose} className="text-gray-400 hover:text-white text-3xl">&times;</button></div>
                    <div className="space-y-4">{Object.entries(THEME_DETAILS).map(([suit, details]) => (<div key={suit} className="bg-gray-700 p-4 rounded-lg"><h3 className="text-2xl font-bold flex items-center gap-3"><span className={details.color}>{suit}</span><span className="text-white">{details.name}</span></h3><p className="text-gray-300 mt-1 ml-10">{details.description}</p></div>))}</div>
                </div>
            </div>
        );

        function App() {
            const [mode, setMode] = useState('menu');
            const [deck, setDeck] = useState([]);
            const [history, setHistory] = useState([]);
            const [isGameFinished, setGameFinished] = useState(false);
            const [showHistory, setShowHistory] = useState(false);
            const [showResetModal, setShowResetModal] = useState(false);
            const [showThemeModal, setShowThemeModal] = useState(false);
            const [currentCard, setCurrentCard] = useState(null);

            useEffect(() => {
                try {
                    const savedState = JSON.parse(localStorage.getItem('brizGameState_v8'));
                    if (savedState) {
                        setMode(savedState.mode || 'menu');
                        setDeck(savedState.deck && savedState.deck.length > 0 ? savedState.deck : generateDeck());
                        setHistory(savedState.history || []);
                        setGameFinished(savedState.isGameFinished || false);
                        setCurrentCard(savedState.currentCard || null);
                    } else {
                        setDeck(generateDeck());
                    }
                } catch (error) {
                    console.error("Failed to load state", error);
                    setDeck(generateDeck());
                }
            }, []);

            useEffect(() => {
                const gameState = { mode, deck, history, isGameFinished, currentCard };
                localStorage.setItem('brizGameState_v8', JSON.stringify(gameState));
            }, [mode, deck, history, isGameFinished, currentCard]);

            const resetGame = () => {
                localStorage.removeItem('brizGameState_v8');
                setMode('menu');
                setDeck(generateDeck());
                setHistory([]);
                setGameFinished(false);
                setCurrentCard(null);
                setShowResetModal(false);
            };

            const drawVirtualCard = useCallback(() => {
                if (deck.length > 0) {
                    const card = deck[0];
                    const question = questions[card.suit][card.value][0];
                    setHistory(prev => [{ card, question, qIndex: 0 }, ...prev]);
                    setDeck(d => d.slice(1));
                }
            }, [deck]);

            useEffect(() => {
                if (mode === 'virtual' && history.length === 0 && !isGameFinished && deck.length > 0) {
                    drawVirtualCard();
                }
            }, [mode, history.length, isGameFinished, drawVirtualCard, deck.length]);

            const handlePhysicalCardSelection = (card) => {
                const question = questions[card.suit][card.value][0];
                const newItem = { card, question, qIndex: 0 };
                setCurrentCard(newItem);
                setHistory(prev => [newItem, ...prev]);
            };
            
            const addQuickPlayQuestionToHistory = useCallback((question, suit) => {
                const newItem = {
                    card: { suit, value: '‚ö°Ô∏è' },
                    question,
                    qIndex: 0
                };
                setHistory(prev => [newItem, ...prev]);
            }, []);

            const cycleQuestion = () => {
                const activeItem = mode === 'physical' ? currentCard : history[0];
                if (!activeItem || activeItem.card.value === '‚ö°Ô∏è') return;

                const { card, qIndex } = activeItem;
                const questionPool = questions[card.suit][card.value];
                const newQIndex = (qIndex + 1) % questionPool.length;
                const newQuestion = questionPool[newQIndex];
                
                const newItem = { card, question: newQuestion, qIndex: newQIndex };

                if (mode === 'physical') {
                    setCurrentCard(newItem);
                    setHistory(prev => [newItem, ...prev.slice(1)]);
                } else {
                    setHistory(prev => [newItem, ...prev.slice(1)]);
                }
            };
            
            const handleNextQuestion = () => {
                if (mode === 'virtual') {
                    if (deck.length === 0) {
                        setGameFinished(true);
                    } else {
                        drawVirtualCard();
                    }
                } else {
                    setCurrentCard(null);
                }
            };

            const renderContent = () => {
                if (isGameFinished) return <EndGameScreen onRestart={resetGame} />;

                const activeItem = mode === 'physical' ? currentCard : history[0];

                if ((mode === 'virtual' || mode === 'physical') && activeItem) {
                    return <QuestionDisplay historyItem={activeItem} onNext={handleNextQuestion} onCycleQuestion={cycleQuestion} isLastCard={deck.length === 0 && mode === 'virtual'} onThemeClick={() => setShowThemeModal(true)} />;
                }
                
                switch (mode) {
                    case 'physical': return <PhysicalMode onCardSelect={handlePhysicalCardSelection} />;
                    case 'quickplay': return <QuickPlayMode onThemeClick={() => setShowThemeModal(true)} onNewQuestion={addQuickPlayQuestionToHistory} />;
                    case 'menu': default: return <Menu onSelectMode={setMode} onShowRules={() => setShowThemeModal(true)} />;
                }
            };

            return (
                <main className="bg-gray-900 min-h-screen w-full flex flex-col items-center justify-center p-4 font-sans relative">
                    <div className="absolute top-4 w-full flex justify-between items-center px-4 max-w-4xl mx-auto">
                        {mode !== 'menu' && !isGameFinished ? (<button onClick={() => setShowResetModal(true)} className="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full shadow-lg z-10">&larr; Menu</button>) : <div/>}
                        {mode === 'virtual' && !isGameFinished && (<div className="text-gray-300 text-lg font-semibold bg-gray-700 px-4 py-2 rounded-full z-10">Cartes : {deck.length}</div>)}
                        {mode !== 'menu' && history.length > 0 && !isGameFinished ? (<button onClick={() => setShowHistory(true)} className="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full shadow-lg z-10">Historique</button>) : <div/>}
                    </div>
                    
                    {showHistory && <History history={history} onClose={() => setShowHistory(false)} />}
                    {showResetModal && <ConfirmationModal onConfirm={resetGame} onCancel={() => setShowResetModal(false)} />}
                    {showThemeModal && <ThemeModal onClose={() => setShowThemeModal(false)} />}
                    
                    <div className="w-full flex-grow flex items-center justify-center">{renderContent()}</div>
                    <footer className="w-full text-center text-gray-600 text-sm py-4">Made with üçÜ by KmeCnin</footer>
                </main>
            );
        }
        
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);

    </script>
</body>
</html>
